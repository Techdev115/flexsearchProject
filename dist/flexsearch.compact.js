/*
 FlexSearch v0.5.31
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/flexsearch
*/
'use strict';(function(k,B,C){let A;(A=C.define)&&A.amd?A([],function(){return B}):(A=C.modules)?A[k.toLowerCase()]=B:"object"===typeof exports?module.exports=B:C[k]=B})("FlexSearch",function(){function k(b,a){const c=a?a.id:b&&b.id;this.id=c||0===c?c:W++;this.init(b,a);A(this,"index",function(){return this.a?this.a.index[this.a.keys[0]].f:this.f});A(this,"length",function(){return Object.keys(this.index).length})}function B(b,a){const c=b.length,d=H(a),e=[];for(let l=0,g=0;l<c;l++){const c=b[l];
if(d&&a(c)||!d&&!a[c])e[g++]=c}return e}function C(b,a,c,d,e,l,g,h){b=c=P(c,l?0:e,g,!1,a,h);a=this.g;c=b.length;g=Array(c);for(h=0;h<c;h++)g[h]=a[b[h]];c=g;l&&(c=this.where(l,null,e,c));d&&(H(d)||(x=d.split(":"),1<x.length?d=X:(x=x[0],d=Y)),c.sort(d));return c}function A(b,a,c){Object.defineProperty(b,a,{get:c})}function f(b){return new RegExp(b,"g")}function D(b,a){for(let c=0;c<a.length;c+=2)b=b.replace(a[c],a[c+1]);return b}function K(b,a,c,d,e,l,g,h){if(a[c])return a[c];e=e?(h-(g||h/1.5))*l+(g||
h/1.5)*e:l;a[c]=e;e>=g&&(b=b[h-(e+.5>>0)],b=b[c]||(b[c]=[]),b[b.length]=d);return e}function L(b,a){if(b){const c=Object.keys(b);for(let d=0,e=c.length;d<e;d++){const e=c[d],g=b[e];if(g)for(let c=0,d=g.length;c<d;c++)if(g[c]===a){1===d?delete b[e]:g.splice(c,1);break}else E(g[c])&&L(g[c],a)}}}function M(b){let a="",c="";var d="";for(let e=0;e<b.length;e++){const l=b[e];if(l!==c)if(e&&"h"===l){if(d="a"===d||"e"===d||"i"===d||"o"===d||"u"===d||"y"===d,("a"===c||"e"===c||"i"===c||"o"===c||"u"===c||"y"===
c)&&d||" "===c)a+=l}else a+=l;d=e===b.length-1?"":b[e+1];c=l}return a}function Z(b,a){b=b.length-a.length;return 0>b?1:b?-1:0}function Y(b,a){b=b[x];a=a[x];return b<a?-1:b>a?1:0}function X(b,a){const c=x.length;for(let d=0;d<c;d++)b=b[x[d]],a=a[x[d]];return b<a?-1:b>a?1:0}function P(b,a,c,d,e,l){c=[];const g=b.length;if(1<g){const m=v();let t,n,p=-1;var h;let y,u,k=!0,w,F=0,r,N;if(l){for(t=v();++p<g;)if("not"===e[p])for(n=b[p],y=n.length,h=0;h<y;)t["@"+n[h++]]=1;else N=p+1;if(!N)return c;p=-1}else r=
G(e)&&e;for(;++p<g;){const aa=p===(N||g)-1;let Q,v;if(!r||!p)if((h=r||e&&e[p])&&"and"!==h)if("or"===h)v=!0;else continue;else Q=!0;n=b[p];y=n.length;if(!y){if(Q&&!d)return n;continue}if(k)if(w){var f=w.length;for(h=0;h<f;)m["@"+w[h++]]=1;w=null;k=!1}else{w=n;continue}let x=!1;h=0;for(f=[];h<y;){u=n[h++];var q="@"+u;const b=m[q];if(b&&(!l||!t[q]))if(v||b===p){if(aa){if(c[F++]=u,a&&F===a)return c}else m[q]=p+1;x=!0}else d&&(q=f[b]||(f[b]=[]),q[q.length]=u)}if(!x&&!d)break}if(w)if(l)for(b=w.length,h=
0;h<b;)e=w[h++],t["@"+e]||(c[F++]=e);else c=w;if(d&&(F=c.length,(p=f.length)&&(!a||F<a)))for(;p--;)if(u=f[p])for(h=0,y=u.length;h<y;h++)if(c[F++]=u[h],a&&F===a)return c}else!g||e&&"not"===e[0]||(c=b[0],a&&c.length>a&&(c=c.slice(0,a)));return c}function G(b){return"string"===typeof b}function z(b){return b.constructor===Array}function H(b){return"function"===typeof b}function E(b){return"object"===typeof b}function I(b){return"undefined"===typeof b}function R(b){const a=Array(b);for(let c=0;c<b;c++)a[c]=
v();return a}function v(){return Object.create(null)}const r={encode:"icase",c:"forward",v:!1,cache:!1,async:!1,w:!1,m:!1,a:!1,s:!1,b:9,threshold:0,depth:0},S={memory:{encode:"extra",c:"strict",threshold:0,b:1},speed:{encode:"icase",c:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",c:"full",threshold:1,b:3},score:{encode:"extra",c:"strict",threshold:1,b:9,depth:4},balance:{encode:"balance",c:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",c:"strict",threshold:8,b:9,depth:1}},O=[];let W=
0;const T=/\W+/,U={},V={};k.create=function(b){return new k(b)};k.registerMatcher=function(b){for(const a in b)b.hasOwnProperty(a)&&O.push(f(a),b[a]);return this};k.registerEncoder=function(b,a){J[b]=a.bind(J);return this};k.registerLanguage=function(b,a){U[b]=a.filter;V[b]=a.stemmer;return this};k.encode=function(b,a){return J[b](a)};k.prototype.init=function(b,a){this.o=[];if(a){var c=a.preset;b=a}else b||(b=r),c=b.preset;a={};G(b)?(a=S[b],b={}):c&&(a=S[c]);this.c=b.tokenize||a.c||this.c||r.c;this.m=
b.rtl||this.m||r.m;this.async="undefined"===typeof Promise||I(c=b.async)?this.async||r.async:c;this.threshold=I(c=b.threshold)?a.threshold||this.threshold||r.threshold:c;this.b=I(c=b.resolution)?c=a.b||this.b||r.b:c;c<=this.threshold&&(this.b=this.threshold+1);this.depth=I(c=b.depth)?a.depth||this.depth||r.depth:c;this.s=I(c=b.paging)?this.s||r.s:c;this.i=(c=I(c=b.encode)?a.encode||r.encode:c)&&J[c]&&J[c].bind(J)||(H(c)?c:this.i||!1);(c=b.matcher)&&this.addMatcher(c);if(c=b.filter){G(c)&&(c=U[c]);
if(z(c)){a=this.i;var d=v();for(var e=0;e<c.length;e++){var l=a?a(c[e]):c[e];d[l]=1}c=d}this.filter=c}if(c=b.stemmer){var g;a=G(c)?V[c]:c;d=this.i;e=[];for(g in a)a.hasOwnProperty(g)&&(l=d?d(g):g,e.push(f(l+"($|\\W)"),d?d(a[g]):a[g]));this.stemmer=g=e}this.a=d=(c=b.doc)?c:this.a||r.a;this.l=R(this.b-(this.threshold||0));this.h=v();this.f=v();if(d&&(this.g=v(),b.doc=null,g=d.index={},c=d.keys=[],a=d.field,z(d.id)||(d.id=d.id.split(":")),a)){let h;z(a)||(E(a)?(h=a,d.field=a=Object.keys(a)):d.field=
a=[a]);for(d=0;d<a.length;d++)e=a[d],z(e)||(h&&(b=h[e]),c[d]=e,a[d]=e.split(":")),g[e]=new k(b),g[e].g=this.g}return this};k.prototype.encode=function(b){b&&O.length&&(b=D(b,O));b&&this.o.length&&(b=D(b,this.o));b&&this.i&&(b=this.i(b));b&&this.stemmer&&(b=D(b,this.stemmer));return b};k.prototype.addMatcher=function(b){const a=this.o;for(const c in b)b.hasOwnProperty(c)&&a.push(f(c),b[c]);return this};k.prototype.add=function(b,a,c,d,e){if(this.a&&E(b))return this.j("add",b,a);if(a&&G(a)&&(b||0===
b)){var f="@"+b;if(this.f[f]&&!d)return this.update(b,a);if(!e){if(this.async&&"function"!==typeof importScripts){let e=this;f=new Promise(function(c){setTimeout(function(){e.add(b,a,null,d,!0);e=null;c()})});if(c)f.then(c);else return f;return this}if(c)return this.add(b,a,null,d,!0),c(),this}a=this.encode(a);if(!a.length)return this;c=this.c;e=H(c)?c(a):a.split(T);this.filter&&(e=B(e,this.filter));const l=v();l._ctx=v();const n=e.length,p=this.threshold,y=this.depth,u=this.b,k=this.l,w=this.m;for(let a=
0;a<n;a++){var g=e[a];if(g){var h=g.length,t=(w?a+1:n-a)/n,q="";switch(c){case "reverse":case "both":for(var m=h;--m;)q=g[m]+q,K(k,l,q,b,w?1:(h-m)/h,t,p,u-1);q="";case "forward":for(m=0;m<h;m++)q+=g[m],K(k,l,q,b,w?(m+1)/h:1,t,p,u-1);break;case "full":for(m=0;m<h;m++){const a=(w?m+1:h-m)/h;for(let c=h;c>m;c--)q=g.substring(m,c),K(k,l,q,b,a,t,p,u-1)}break;default:if(h=K(k,l,g,b,1,t,p,u-1),y&&1<n&&h>=p)for(h=l._ctx[g]||(l._ctx[g]=v()),g=this.h[g]||(this.h[g]=R(u-(p||0))),t=a-y,q=a+y+1,0>t&&(t=0),q>n&&
(q=n);t<q;t++)t!==a&&K(g,h,e[t],b,0,u-(t<a?a-t:t-a),p,u-1)}}}this.f[f]=1}return this};k.prototype.j=function(b,a,c){if(z(a))for(let d=0,e=a.length;d<e;d++){if(d===e-1)return this.j(b,a[d],c);this.j(b,a[d])}else{const l=this.a.index,q=this.a.keys;var d=this.a.tag,e=this.a.id;let m;let k;for(var f=0;f<e.length;f++)m=(m||a)[e[f]];if(d){for(e=0;e<d.length;e++){var g=d[e];var h=g.split(":");for(f=0;f<h.length;f++)k=(k||a)[h[f]];k="@"+k}h=this.u[g];h=h[k]||(h[k]=[])}if("remove"===b){delete this.g[m];for(let a=
0,b=q.length;a<b;a++){if(a===b-1)return l[q[a]].remove(m,c);l[q[a]].remove(m)}}e=this.a.field;h&&(h[h.length]=a);for(let h=0,f=e.length;h<f;h++){d=e[h];let k;for(g=0;g<d.length;g++)k=(k||a)[d[g]];this.g[m]=a;d=l[q[h]];g="add"===b?d.add:d.update;if(h===f-1)return g.call(d,m,k,c);g.call(d,m,k)}}};k.prototype.update=function(b,a,c){if(this.a&&E(b))return this.j("update",b,a);this.f["@"+b]&&G(a)&&(this.remove(b),this.add(b,a,c,!0));return this};k.prototype.remove=function(b,a,c){if(this.a&&E(b))return this.j("remove",
b,a);var d="@"+b;if(this.f[d]){if(!c){if(this.async&&"function"!==typeof importScripts){let c=this;d=new Promise(function(a){setTimeout(function(){c.remove(b,null,!0);c=null;a()})});if(a)d.then(a);else return d;return this}if(a)return this.remove(b,null,!0),a(),this}for(a=0;a<this.b-(this.threshold||0);a++)L(this.l[a],b);this.depth&&L(this.h,b);delete this.f[d]}return this};let x;k.prototype.search=function(b,a,c,d){if(E(a)){if(z(a))for(var e=0;e<a.length;e++)a[e].query=b;else a.query=b;b=a;a=0}let f=
[],g=b;let h;if(E(b)&&!z(b)){(c=b.callback||a)&&(g.callback=null);h=b.sort;a=b.limit;var k=b.threshold;b=b.query}if(this.a){k=this.a.index;var q=g.bool||"or",m=g.field;let l=q;let p;if(m)z(m)||(m=[m]);else if(z(g)){var r=g;m=[];l=[];for(var n=0;n<g.length;n++)d=g[n],e=d.bool||q,m[n]=d.field,l[n]=e,"not"===e&&(p=!0)}else m=this.a.keys;q=m.length;for(n=0;n<q;n++)r&&(g=r[n]),f[n]=k[m[n]].search(g);if(c)return c(C.call(this,b,l,f,h,a,!1,void 0,p));if(this.async){const c=this;return new Promise(function(d){Promise.all(f).then(function(e){d(C.call(c,
b,l,e,h,a,!1,void 0,p))})})}return C.call(this,b,l,f,h,a,!1,void 0,p)}k||(k=this.threshold||0);H(a)?(c=a,a=1E3):a||0===a||(a=1E3);if(!d){if(this.async&&"function"!==typeof importScripts){let b=this;k=new Promise(function(c){setTimeout(function(){c(b.search(g,a,null,!0));b=null})});if(c)k.then(c);else return k;return this}if(c)return c(this.search(g,a,null,!0)),this}if(!b||!G(b))return f;g=b;g=this.encode(g);if(!g.length)return f;c=this.c;c=H(c)?c(g):g.split(T);this.filter&&(c=B(c,this.filter));r=
c.length;d=!0;e=[];const p=v();1<r&&(this.depth?(m=!0,n=c[0],p[n]=1):c.sort(Z));if(!m||(q=this.h)[n]){const a=this.b;for(let b=m?1:0;b<r;b++){const f=c[b];if(f){if(!p[f]){const b=[];let c=!1,g=0;if(n=m?q[n]:this.l){let d;for(let e=0;e<a-k;e++)if(d=n[e][f])b[g++]=d,c=!0}if(c)e[e.length]=1<g?b.concat.apply([],b):b[0];else{d=!1;break}p[f]=1}n=f}}}else d=!1;this.a||d&&(f=P(e,a,void 0,!1));return f};k.prototype.clear=function(){return this.destroy().init()};k.prototype.destroy=function(){this.l=this.h=
this.f=null;if(this.a){const b=this.a.keys;for(let a=0;a<b.length;a++)this.a.index[b[a]].destroy();this.a=this.g=null}return this};const J={icase:function(b){return b.toLowerCase()},simple:function(){const b=[f("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]"),"a",f("[\u00e8\u00e9\u00ea\u00eb]"),"e",f("[\u00ec\u00ed\u00ee\u00ef]"),"i",f("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]"),"o",f("[\u00f9\u00fa\u00fb\u00fc\u0171]"),"u",f("[\u00fd\u0177\u00ff]"),"y",f("\u00f1"),"n",f("\u00e7"),"c",f("\u00df"),"s",f(" & "),
" and ",f("[-/]")," ",f("[^a-z0-9 ]"),"",f("\\s+")," "];return function(a){a=D(a.toLowerCase(),b);return" "===a?"":a}}(),advanced:function(){const b=[f("ae"),"a",f("ai"),"ei",f("ay"),"ei",f("ey"),"ei",f("oe"),"o",f("ue"),"u",f("ie"),"i",f("sz"),"s",f("zs"),"s",f("sh"),"s",f("ck"),"k",f("cc"),"k",f("dt"),"t",f("ph"),"f",f("pf"),"f",f("ou"),"o",f("uo"),"u"];return function(a,c){if(!a)return a;a=this.simple(a);2<a.length&&(a=D(a,b));c||1<a.length&&(a=M(a));return a}}(),extra:function(){const b=[f("p"),
"b",f("z"),"s",f("[cgq]"),"k",f("n"),"m",f("d"),"t",f("[vw]"),"f",f("[aeiouy]"),""];return function(a){if(!a)return a;a=this.advanced(a,!0);if(1<a.length){a=a.split(" ");for(let c=0;c<a.length;c++){const d=a[c];1<d.length&&(a[c]=d[0]+D(d.substring(1),b))}a=a.join(" ");a=M(a)}return a}}(),balance:function(){const b=[f("[-/]")," ",f("[^a-z0-9 ]"),"",f("\\s+")," "];return function(a){return M(D(a.toLowerCase(),b))}}()};return k}(!1),this);
