/*
 FlexSearch v0.5.31
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/flexsearch
*/
'use strict';(function(A,J,k){let C;(C=k.define)&&C.amd?C([],function(){return J}):(C=k.modules)?C[A.toLowerCase()]=J:"object"===typeof exports?module.exports=J:k[A]=J})("FlexSearch",function ba(A){function k(a,c){const b=c?c.id:a&&a.id;this.id=b||0===b?b:ca++;this.init(a,c);K(this,"index",function(){return this.a?this.a.index[this.a.keys[0]].c:this.c});K(this,"length",function(){return Object.keys(this.index).length})}function C(a,c,b,d){this.v!==this.g&&(this.o=this.o.concat(b),this.v++,d&&this.o.length>=
d&&(this.v=this.g),this.v===this.g&&(this.cache&&this.l.set(c,this.o),this.G&&this.G(this.o)));return this}function L(a,c){const b=a.length,d=G(c),e=[];for(let h=0,f=0;h<b;h++){const b=a[h];if(d&&c(b)||!d&&!c[b])e[f++]=b}return e}function N(a,c,b,d,e,h,f,l){c=b=U(b,h?0:e,f,this.u,c,l);b=this.h;f=c.length;l=Array(f);for(let a=0;a<f;a++)l[a]=b[c[a]];b=l;h&&(b=this.where(h,null,e,b));d&&(G(d)||(D=d.split(":"),1<D.length?d=da:(D=D[0],d=ea)),b.sort(d));this.cache&&this.l.set(a,b);return b}function K(a,
c,b){Object.defineProperty(a,c,{get:b})}function g(a){return new RegExp(a,"g")}function H(a,c){for(let b=0;b<c.length;b+=2)a=a.replace(c[b],c[b+1]);return a}function O(a,c,b,d,e,h,f,l){if(c[b])return c[b];e=e?(l-(f||l/1.5))*h+(f||l/1.5)*e:h;c[b]=e;e>=f&&(a=a[l-(e+.5>>0)],a=a[b]||(a[b]=[]),a[a.length]=d);return e}function Q(a,c){if(a){const b=Object.keys(a);for(let d=0,e=b.length;d<e;d++){const e=b[d],f=a[e];if(f)for(let b=0,d=f.length;b<d;b++)if(f[b]===c){1===d?delete a[e]:f.splice(b,1);break}else F(f[b])&&
Q(f[b],c)}}}function R(a){let c="",b="";var d="";for(let e=0;e<a.length;e++){const h=a[e];if(h!==b)if(e&&"h"===h){if(d="a"===d||"e"===d||"i"===d||"o"===d||"u"===d||"y"===d,("a"===b||"e"===b||"i"===b||"o"===b||"u"===b||"y"===b)&&d||" "===b)c+=h}else c+=h;d=e===a.length-1?"":a[e+1];b=h}return c}function fa(a,c){a=a.length-c.length;return 0>a?1:a?-1:0}function ea(a,c){a=a[D];c=c[D];return a<c?-1:a>c?1:0}function da(a,c){const b=D.length;for(let d=0;d<b;d++)a=a[D[d]],c=c[D[d]];return a<c?-1:a>c?1:0}function U(a,
c,b,d,e,h){b=[];const f=a.length;if(1<f){const m=r();let g,n,p=-1;var l;let k,v,x=!0,w,I=0,S,T;if(h){for(g=r();++p<f;)if("not"===e[p])for(n=a[p],k=n.length,l=0;l<k;)g["@"+n[l++]]=1;else T=p+1;if(!T)return b;p=-1}else S=E(e)&&e;for(;++p<f;){const t=p===(T||f)-1;let V,r;if(!S||!p)if((l=S||e&&e[p])&&"and"!==l)if("or"===l)r=!0;else continue;else V=!0;n=a[p];k=n.length;if(!k){if(V&&!d)return n;continue}if(x)if(w){var q=w.length;for(l=0;l<q;)m["@"+w[l++]]=1;w=null;x=!1}else{w=n;continue}let u=!1;l=0;for(q=
[];l<k;){v=n[l++];var B="@"+v;const a=m[B];if(a&&(!h||!g[B]))if(r||a===p){if(t){if(b[I++]=v,c&&I===c)return b}else m[B]=p+1;u=!0}else d&&(B=q[a]||(q[a]=[]),B[B.length]=v)}if(!u&&!d)break}if(w)if(h)for(a=w.length,l=0;l<a;)e=w[l++],g["@"+e]||(b[I++]=e);else b=w;if(d&&(I=b.length,(p=q.length)&&(!c||I<c)))for(;p--;)if(v=q[p])for(l=0,k=v.length;l<k;l++)if(b[I++]=v[l],c&&I===c)return b}else!f||e&&"not"===e[0]||(b=a[0],c&&b.length>c&&(b=b.slice(0,c)));return b}function E(a){return"string"===typeof a}function z(a){return a.constructor===
Array}function G(a){return"function"===typeof a}function F(a){return"object"===typeof a}function y(a){return"undefined"===typeof a}function W(a){const c=Array(a);for(let b=0;b<a;b++)c[b]=r();return c}function r(){return Object.create(null)}function ha(){let a,c;self.onmessage=function(b){if(b=b.data)if(b.search){const d=c.search(b.content,b.threshold?{limit:b.limit,threshold:b.threshold,where:b.where}:b.limit);self.postMessage({id:a,content:b.content,limit:b.limit,result:d})}else b.add?c.add(b.id,
b.content):b.update?c.update(b.id,b.content):b.remove?c.remove(b.id):b.clear?c.clear():b.info?(b=c.info(),b.worker=a,console.log(b)):b.register&&(a=b.id,b.options.cache=!1,b.options.async=!1,b.options.worker=!1,c=(new Function(b.register.substring(b.register.indexOf("{")+1,b.register.lastIndexOf("}"))))(),c=new c(b.options))}}function ia(a,c,b,d){a=A("flexsearch","id"+a,ha,function(a){(a=a.data)&&a.result&&d(a.id,a.content,a.result,a.limit,a.where,a.cursor,a.suggest)},c);const e=ba.toString();b.id=
c;a.postMessage({register:e,options:b,id:c});return a}const u={encode:"icase",f:"forward",u:!1,cache:!1,async:!1,g:!1,F:!1,a:!1,J:!1,b:9,threshold:0,depth:0},X={memory:{encode:"extra",f:"strict",threshold:0,b:1},speed:{encode:"icase",f:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",f:"full",threshold:1,b:3},score:{encode:"extra",f:"strict",threshold:1,b:9,depth:4},balance:{encode:"balance",f:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",f:"strict",threshold:8,b:9,depth:1}},P=[];
let ca=0;const Y=/\W+/,Z={},aa={};k.create=function(a){return new k(a)};k.registerMatcher=function(a){for(const c in a)a.hasOwnProperty(c)&&P.push(g(c),a[c]);return this};k.registerEncoder=function(a,c){M[a]=c.bind(M);return this};k.registerLanguage=function(a,c){Z[a]=c.filter;aa[a]=c.stemmer;return this};k.encode=function(a,c){return M[a](c)};k.prototype.init=function(a,c){this.w=[];if(c){var b=c.preset;a=c}else a||(a=u),b=a.preset;c={};E(a)?(c=X[a],a={}):b&&(c=X[b]);if(b=a.worker)if("undefined"===
typeof Worker)a.worker=!1,this.m=null;else{var d=parseInt(b,10)||4;this.D=-1;this.v=0;this.o=[];this.G=null;this.m=Array(d);for(var e=0;e<d;e++)this.m[e]=ia(this.id,e,a,C.bind(this))}this.f=a.tokenize||c.f||this.f||u.f;this.F=a.rtl||this.F||u.F;this.async="undefined"===typeof Promise||y(b=a.async)?this.async||u.async:b;this.g=y(b=a.worker)?this.g||u.g:b;this.threshold=y(b=a.threshold)?c.threshold||this.threshold||u.threshold:b;this.b=y(b=a.resolution)?b=c.b||this.b||u.b:b;b<=this.threshold&&(this.b=
this.threshold+1);this.depth=y(b=a.depth)?c.depth||this.depth||u.depth:b;this.J=y(b=a.paging)?this.J||u.J:b;this.u=y(b=a.suggest)?this.u||u.u:b;this.A=(b=y(b=a.encode)?c.encode||u.encode:b)&&M[b]&&M[b].bind(M)||(G(b)?b:this.A||!1);(b=a.matcher)&&this.addMatcher(b);if(b=a.filter){E(b)&&(b=Z[b]);if(z(b)){c=this.A;d=r();for(e=0;e<b.length;e++){var h=c?c(b[e]):b[e];d[h]=1}b=d}this.filter=b}if(b=a.stemmer){var f;c=E(b)?aa[b]:b;d=this.A;e=[];for(f in c)c.hasOwnProperty(f)&&(h=d?d(f):f,e.push(g(h+"($|\\W)"),
d?d(c[f]):c[f]));this.stemmer=f=e}this.a=e=(b=a.doc)?b:this.a||u.a;this.j=W(this.b-(this.threshold||0));this.i=r();this.c=r();if(e){this.h=r();a.doc=null;f=e.index={};c=e.keys=[];d=e.field;h=e.tag;z(e.id)||(e.id=e.id.split(":"));if(h){this.H=r();let c=r();if(d)if(E(d))c[d]=a;else if(z(d))for(let b=0;b<d.length;b++)c[d[b]]=a;else F(d)&&(c=d);z(h)||(e.tag=h=[h]);for(d=0;d<h.length;d++)this.H[h[d]]=r();this.K=h;d=c}if(d){let b;z(d)||(F(d)?(b=d,e.field=d=Object.keys(d)):e.field=d=[d]);for(e=0;e<d.length;e++)h=
d[e],z(h)||(b&&(a=b[h]),c[e]=h,d[e]=h.split(":")),f[h]=new k(a),f[h].h=this.h}}this.C=!0;this.l=(this.cache=b=y(b=a.cache)?this.cache||u.cache:b)?new ja(b):!1;return this};k.prototype.encode=function(a){a&&P.length&&(a=H(a,P));a&&this.w.length&&(a=H(a,this.w));a&&this.A&&(a=this.A(a));a&&this.stemmer&&(a=H(a,this.stemmer));return a};k.prototype.addMatcher=function(a){const c=this.w;for(const b in a)a.hasOwnProperty(b)&&c.push(g(b),a[b]);return this};k.prototype.add=function(a,c,b,d,e){if(this.a&&
F(a))return this.B("add",a,c);if(c&&E(c)&&(a||0===a)){var h="@"+a;if(this.c[h]&&!d)return this.update(a,c);if(this.g)return++this.D>=this.m.length&&(this.D=0),this.m[this.D].postMessage({add:!0,id:a,content:c}),this.c[h]=""+this.D,b&&b(),this;if(!e){if(this.async&&"function"!==typeof importScripts){let e=this;h=new Promise(function(b){setTimeout(function(){e.add(a,c,null,d,!0);e=null;b()})});if(b)h.then(b);else return h;return this}if(b)return this.add(a,c,null,d,!0),b(),this}c=this.encode(c);if(!c.length)return this;
b=this.f;e=G(b)?b(c):c.split(Y);this.filter&&(e=L(e,this.filter));const k=r();k._ctx=r();const n=e.length,p=this.threshold,B=this.depth,v=this.b,x=this.j,w=this.F;for(let c=0;c<n;c++){var f=e[c];if(f){var l=f.length,q=(w?c+1:n-c)/n,g="";switch(b){case "reverse":case "both":for(var m=l;--m;)g=f[m]+g,O(x,k,g,a,w?1:(l-m)/l,q,p,v-1);g="";case "forward":for(m=0;m<l;m++)g+=f[m],O(x,k,g,a,w?(m+1)/l:1,q,p,v-1);break;case "full":for(m=0;m<l;m++){const c=(w?m+1:l-m)/l;for(let b=l;b>m;b--)g=f.substring(m,b),
O(x,k,g,a,c,q,p,v-1)}break;default:if(l=O(x,k,f,a,1,q,p,v-1),B&&1<n&&l>=p)for(l=k._ctx[f]||(k._ctx[f]=r()),f=this.i[f]||(this.i[f]=W(v-(p||0))),q=c-B,g=c+B+1,0>q&&(q=0),g>n&&(g=n);q<g;q++)q!==c&&O(f,l,e[q],a,0,v-(q<c?c-q:q-c),p,v-1)}}}this.c[h]=1;this.C=!1}return this};k.prototype.B=function(a,c,b){if(z(c))for(let d=0,e=c.length;d<e;d++){if(d===e-1)return this.B(a,c[d],b);this.B(a,c[d])}else{const g=this.a.index,k=this.a.keys;var d=this.a.tag,e=this.a.id;let m;let t;for(var h=0;h<e.length;h++)m=(m||
c)[e[h]];if(d){for(e=0;e<d.length;e++){var f=d[e];var l=f.split(":");for(h=0;h<l.length;h++)t=(t||c)[l[h]];t="@"+t}l=this.H[f];l=l[t]||(l[t]=[])}if("remove"===a){delete this.h[m];for(let a=0,c=k.length;a<c;a++){if(a===c-1)return g[k[a]].remove(m,b);g[k[a]].remove(m)}}e=this.a.field;l&&(l[l.length]=c);for(let h=0,l=e.length;h<l;h++){d=e[h];let q;for(f=0;f<d.length;f++)q=(q||c)[d[f]];this.h[m]=c;d=g[k[h]];f="add"===a?d.add:d.update;if(h===l-1)return f.call(d,m,q,b);f.call(d,m,q)}}};k.prototype.update=
function(a,c,b){if(this.a&&F(a))return this.B("update",a,c);this.c["@"+a]&&E(c)&&(this.remove(a),this.add(a,c,b,!0));return this};k.prototype.remove=function(a,c,b){if(this.a&&F(a))return this.B("remove",a,c);var d="@"+a;if(this.c[d]){if(this.g)return this.m[this.c[d]].postMessage({remove:!0,id:a}),delete this.c[d],c&&c(),this;if(!b){if(this.async&&"function"!==typeof importScripts){let b=this;d=new Promise(function(c){setTimeout(function(){b.remove(a,null,!0);b=null;c()})});if(c)d.then(c);else return d;
return this}if(c)return this.remove(a,null,!0),c(),this}for(c=0;c<this.b-(this.threshold||0);c++)Q(this.j[c],a);this.depth&&Q(this.i,a);delete this.c[d];this.C=!1}return this};let D;k.prototype.search=function(a,c,b,d){if(F(c)){if(z(c))for(var e=0;e<c.length;e++)c[e].query=a;else c.query=a;a=c;c=0}let h=[],f=a;let l;if(F(a)&&!z(a)){(b=a.callback||c)&&(f.callback=null);l=a.sort;c=a.limit;var g=a.threshold;a=a.query}if(this.a){g=this.a.index;const q=f.where;var k=f.bool||"or",m=f.field;let p=k;let x;
if(m)z(m)||(m=[m]);else if(z(f)){var t=f;m=[];p=[];for(var n=0;n<f.length;n++)d=f[n],e=d.bool||k,m[n]=d.field,p[n]=e,"not"===e&&(x=!0)}else m=this.a.keys;k=m.length;for(n=0;n<k;n++)t&&(f=t[n]),h[n]=g[m[n]].search(f);if(b)return b(N.call(this,a,p,h,l,c,q,void 0,x));if(this.async){const b=this;return new Promise(function(d){Promise.all(h).then(function(e){d(N.call(b,a,p,e,l,c,q,void 0,x))})})}return N.call(this,a,p,h,l,c,q,void 0,x)}g||(g=this.threshold||0);G(c)?(b=c,c=1E3):c||0===c||(c=1E3);if(this.g)for(this.G=
b,this.v=0,this.o=[],m=0;m<this.g;m++)this.m[m].postMessage({search:!0,limit:c,cursor:void 0,threshold:g,content:a});else{if(!d){if(this.async&&"function"!==typeof importScripts){let a=this;g=new Promise(function(b){setTimeout(function(){b(a.search(f,c,null,!0));a=null})});if(b)g.then(b);else return g;return this}if(b)return b(this.search(f,c,null,!0)),this}if(!a||!E(a))return h;f=a;if(this.cache)if(this.C){if(b=this.l.get(a))return b}else this.l.clear(),this.C=!0;f=this.encode(f);if(!f.length)return h;
b=this.f;b=G(b)?b(f):f.split(Y);this.filter&&(b=L(b,this.filter));t=b.length;d=!0;e=[];var p=r();1<t&&(this.depth?(m=!0,n=b[0],p[n]=1):b.sort(fa));if(!m||(k=this.i)[n]){const a=this.b;for(let c=m?1:0;c<t;c++){const f=b[c];if(f){if(!p[f]){const c=[];let b=!1,h=0;if(n=m?k[n]:this.j){let d;for(let e=0;e<a-g;e++)if(d=n[e][f])c[h++]=d,b=!0}if(b)e[e.length]=1<h?c.concat.apply([],c):c[0];else if(!this.u){d=!1;break}p[f]=1}n=f}}}else d=!1;this.a||(d&&(h=U(e,c,void 0,this.u)),this.cache&&this.l.set(a,h));
return h}};k.prototype.find=function(a,c){return this.where(a,c,1)[0]||null};k.prototype.where=function(a,c,b,d){const e=d||this.h,h=[];let f=0;let g;if("number"===typeof a)return[e[a]];if(E(a)){if(y(c))return[e[a]];if("id"===a)return[e[c]];var k=[a];var r=1;var m=[a.split(":")];g=!0}else{if(G(a)){c=d||Object.keys(e);b=c.length;for(k=0;k<b;k++)r=d?d[k]:e[c[k]],a(r)&&(h[f++]=r);return h}b||(b=c);k=Object.keys(a);r=k.length;g=!1;if(1===r&&"id"===k[0])return[e[a.id]];if((m=this.K)&&!d)for(var t=0;t<
m.length;t++){var n=m[t],p=a[n];if(!y(p)){d=this.H[n]["@"+p];if(0===--r)return d;k.splice(k.indexOf(n),1);delete a[n];break}}m=Array(r);for(t=0;t<r;t++)m[t]=k[t].split(":")}t=d||Object.keys(e);n=t.length;for(p=0;p<n;p++){const l=d?d[p]:e[t[p]];let n=!0;for(let b=0;b<r;b++){g||(c=a[k[b]]);const d=m[b],e=d.length;let f=l;if(1<e)for(let a=0;a<e;a++)f=f[d[a]];else f=f[d[0]];if(f!==c){n=!1;break}}if(n&&(h[f++]=l,b&&f===b))break}return h};k.prototype.info=function(){if(this.g)for(let a=0;a<this.g;a++)this.m[a].postMessage({info:!0,
id:this.id});else return{id:this.id,items:this.length,cache:this.cache&&this.cache.s?this.cache.s.length:!1,matcher:P.length+(this.w?this.w.length:0),worker:this.g,threshold:this.threshold,depth:this.depth,resolution:this.b,contextual:this.depth&&"strict"===this.f}};k.prototype.clear=function(){return this.destroy().init()};k.prototype.destroy=function(){this.cache&&(this.l.clear(),this.l=null);this.j=this.i=this.c=null;if(this.a){const a=this.a.keys;for(let c=0;c<a.length;c++)this.a.index[a[c]].destroy();
this.a=this.h=null}return this};k.prototype.export=function(){if(this.a){const a=this.a.keys,c=Array(a.length+1);let b=0;for(;b<a.length;b++){const d=this.a.index[a[b]];c[b]=[d.j,d.i,d.c]}c[b]=this.h;return JSON.stringify(c)}return JSON.stringify([this.j,this.i,this.c])};k.prototype.import=function(a){a=JSON.parse(a);if(this.a){const c=this.a.keys,b=c.length;for(let d=0;d<b;d++){const e=this.a.index[c[d]];e.j=a[d][0];e.i=a[d][1];e.c=a[d][2];e.h=a[b]}this.h=a[b]}else this.j=a[0],this.i=a[1],this.c=
a[2]};const M={icase:function(a){return a.toLowerCase()},simple:function(){const a=[g("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]"),"a",g("[\u00e8\u00e9\u00ea\u00eb]"),"e",g("[\u00ec\u00ed\u00ee\u00ef]"),"i",g("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]"),"o",g("[\u00f9\u00fa\u00fb\u00fc\u0171]"),"u",g("[\u00fd\u0177\u00ff]"),"y",g("\u00f1"),"n",g("\u00e7"),"c",g("\u00df"),"s",g(" & ")," and ",g("[-/]")," ",g("[^a-z0-9 ]"),"",g("\\s+")," "];return function(c){c=H(c.toLowerCase(),a);return" "===c?"":c}}(),
advanced:function(){const a=[g("ae"),"a",g("ai"),"ei",g("ay"),"ei",g("ey"),"ei",g("oe"),"o",g("ue"),"u",g("ie"),"i",g("sz"),"s",g("zs"),"s",g("sh"),"s",g("ck"),"k",g("cc"),"k",g("dt"),"t",g("ph"),"f",g("pf"),"f",g("ou"),"o",g("uo"),"u"];return function(c,b){if(!c)return c;c=this.simple(c);2<c.length&&(c=H(c,a));b||1<c.length&&(c=R(c));return c}}(),extra:function(){const a=[g("p"),"b",g("z"),"s",g("[cgq]"),"k",g("n"),"m",g("d"),"t",g("[vw]"),"f",g("[aeiouy]"),""];return function(c){if(!c)return c;
c=this.advanced(c,!0);if(1<c.length){c=c.split(" ");for(let b=0;b<c.length;b++){const d=c[b];1<d.length&&(c[b]=d[0]+H(d.substring(1),a))}c=c.join(" ");c=R(c)}return c}}(),balance:function(){const a=[g("[-/]")," ",g("[^a-z0-9 ]"),"",g("\\s+")," "];return function(c){return R(H(c.toLowerCase(),a))}}()},ja=function(){function a(a){this.clear();this.I=!0!==a&&a}a.prototype.clear=function(){this.cache=r();this.count=r();this.index=r();this.s=[]};a.prototype.set=function(a,b){if(this.I&&y(this.cache[a])){let c=
this.s.length;if(c===this.I){c--;const a=this.s[c];delete this.cache[a];delete this.count[a];delete this.index[a]}this.index[a]=c;this.s[c]=a;this.count[a]=-1;this.cache[a]=b;this.get(a)}else this.cache[a]=b};a.prototype.get=function(a){const b=this.cache[a];if(this.I&&b){var c=++this.count[a];const b=this.index;let d=b[a];if(0<d){const f=this.s;for(var e=d;this.count[f[--d]]<=c&&-1!==d;);d++;if(d!==e){for(c=e;c>d;c--)e=f[c-1],f[c]=e,b[e]=c;f[d]=a;b[a]=d}}}return b};return a}();return k}(function(){const A=
{},J="undefined"!==typeof Blob&&"undefined"!==typeof URL&&URL.createObjectURL;return function(k,C,L,N,K){L=J?URL.createObjectURL(new Blob(["("+L.toString()+")()"],{type:"text/javascript"})):k+".min.js";k+="-"+C;A[k]||(A[k]=[]);A[k][K]=new Worker(L);A[k][K].onmessage=N;return A[k][K]}}()),this);
