import{regex,replace}from"../../common.js";const regex_whitespace=regex("[\\W_]+"),regex_strip=regex("[^A-Z0-9 ]"),pairs=[regex_whitespace," ",regex_strip,""];export default function(a){if(!a)return a;if(a=replace(a.toUpperCase(),pairs),!a)return a;const b=a.split(" ");for(let c=0;c<b.length;c++)if(a=b[c]){let d=a[0],e=getCode(d);for(let b=1;b<a.length;b++){const c=getCode(a[b]);if(c!==e&&(d+=c,e=c),5===d.length)break}b[c]=(d+"0000").substring(0,4)}return b}function getCode(a){return"B"===a||"F"===a||"P"===a||"V"===a?1:"C"===a||"G"===a||"J"===a||"K"===a||"Q"===a||"S"===a||"X"===a||"Z"===a?2:"D"===a||"T"===a?3:"L"===a?4:"M"===a||"N"===a?5:"R"===a?6:""}