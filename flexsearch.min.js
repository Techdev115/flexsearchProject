/*
 FlexSearch v0.2.70
 Copyright 2018 Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/flexsearch
*/
'use strict';(function(v,D,f){var w;(w=f.define)&&w.amd?w([],function(){return D}):(w=f.modules)?w[v.toLowerCase()]=D:"undefined"!==typeof module?module.exports=D:f[v]=D})("FlexSearch",function P(v){function f(a){"string"!==typeof a||y[a]||(a=I[a]);a||(a=z);this.id=a.id||Q++;this.init(a);w(this,"index",function(){return this.a});w(this,"length",function(){return Object.keys(this.a).length})}function w(a,b,d){Object.defineProperty(a,b,{get:d})}function e(a){return new RegExp(a,"g")}function x(a,b,
d){if("undefined"===typeof d){for(d=0;d<b.length;d+=2)a=a.replace(b[d],b[d+1]);return a}return a.replace(b,d)}function A(a,b,d,c,g,B,h){if(b[d])return b[d];g=g?(9-(h||6))*B+(h||6)*g:B;b[d]=g;g>=h&&(a=a[g+.5|0],a=a[d]||(a[d]=[]),a[a.length]=c);return g}function r(a,b){if(a)for(var d=Object.keys(a),c=0,g=d.length;c<g;c++){var B=d[c],h=a[B];if(h)for(var l=0,e=h.length;l<e;l++)if(h[l]===b){1===e?delete a[B]:h.splice(l,1);break}else"object"===typeof h[l]&&r(h[l],b)}}function J(a){var b=[];if(!a)return b;
for(var d=0,c=0,g=0,B="",h=a.length,l=0;l<h;l++){var e=a[l];"a"===e||"e"===e||"i"===e||"o"===e||"u"===e||"y"===e?d++:c++;" "!==e&&(B+=e);if(" "===e||d>=(8<h?2:1)&&2<=c||2<=d&&c>=(8<h?2:1)||l===h-1)B&&(b[g]&&2<B.length&&g++,b[g]=b[g]?b[g]+B:B," "===e&&g++,B=""),c=d=0}return b}function G(a){for(var b="",d="",c="",g=0;g<a.length;g++){var e=a[g];if(e!==d)if(g&&"h"===e){if(c="a"===c||"e"===c||"i"===c||"o"===c||"u"===c||"y"===c,("a"===d||"e"===d||"i"===d||"o"===d||"u"===d||"y"===d)&&c||" "===d)b+=e}else b+=
e;c=g===a.length-1?"":a[g+1];d=e}return b}function R(a,b){var d=t();if(a)for(var c=0;c<a.length;c++){var g=b?b.call(C,a[c]):a[c];d[g]=String.fromCharCode(65E3-a.length+c)}return d}function S(a,b){var d=[];if(a)for(var c in a)if(a.hasOwnProperty(c)){var g=b?b.call(C,c):c;d.push(e("(?=.{"+(g.length+3)+",})"+g+"$"),b?b.call(C,a[c]):a[c])}return d}function T(a,b){a=a.length-b.length;return 0>a?1:0<a?-1:0}function U(a,b){a=a.length-b.length;return 0>a?-1:0<a?1:0}function V(a,b,d){var c=[],g=[],e=a.length;
if(1<e){a.sort(U);for(var h=t(),l=a[0],f=l.length,m=0;m<f;)h[l[m++]]=1;for(var n,u=0,p=1;p<e;){var k=!1,r=p===e-1;g=[];l=a[p];f=l.length;for(m=-1;m<f;)if(n=l[++m],h[n]){var q=h[n];if(q===p){if(r){if(c[u++]=n,b&&u===b)return c}else h[n]=p+1;k=!0}else d&&(q=g[q]?g[q]:g[q]=[],q[q.length]=n)}if(!k&&!d)break;p++}if(d&&(u=c.length,(f=g.length)&&(!b||u<b)))for(p=f-1;0<=p;p--)if(n=g[p])for(m=0;m<n.length;m++)if(c[u++]=n[m],b&&u===b)return c}else e&&(c=a[0],b&&c.length>b&&(c=c.slice(0,b)));return c}function H(a){a.C||
(a.C=K(function(){a.C=null;var b=a.async;b&&(a.async=!1);if(a.c.length){for(var d=L(),c;(c=a.c.shift())||0===c;){var g=a.f[c];switch(g[0]){case E.add:a.add(g[1],g[2]);break;case E.remove:a.remove(g[1])}delete a.f[c];if(100<L()-d)break}a.c.length&&H(a)}b&&(a.async=b)},1,"search-async-"+a.id))}function L(){return"undefined"!==typeof performance?performance.now():(new Date).getTime()}function t(a){if(a){for(var b=Array(a),d=0;d<a;d++)b[d]=Object.create(null);return b}return Object.create(null)}function W(a,
b,d,c){a=v("flexsearch","id"+a,function(){var a,b;self.onmessage=function(c){if(c=c.data)if(c.search){var d=b.search(c.content,c.threshold?{limit:c.limit,threshold:c.threshold}:c.limit);self.postMessage({id:a,content:c.content,limit:c.limit,result:d})}else c.add?b.add(c.id,c.content):c.update?b.update(c.id,c.content):c.remove?b.remove(c.id):c.reset?b.reset():c.info?(c=b.info(),c.worker=a,b.debug&&console.log(c)):c.register&&(a=c.id,c.options.cache=!1,c.options.async=!0,c.options.worker=!1,b=(new Function(c.register.substring(c.register.indexOf("{")+
1,c.register.lastIndexOf("}"))))(),b=new b(c.options))}},function(a){(a=a.data)&&a.result?c(a.id,a.content,a.result,a.limit):d.debug&&console.log(a)},b);var g=P.toString();d.id=b;a.postMessage(b,{register:g,options:d,id:b});return a}var z={encode:"icase",mode:"forward",u:!1,cache:!1,async:!1,b:!1,threshold:0,depth:0},I={memory:{encode:"extra",mode:"strict",threshold:7},speed:{encode:"icase",mode:"strict",threshold:7,depth:2},match:{encode:"extra",mode:"full"},score:{encode:"extra",mode:"strict",threshold:5,
depth:4},balance:{encode:"balance",mode:"ngram",threshold:6,depth:3},fastest:{encode:"icase",mode:"strict",threshold:9,depth:1}},F=[],Q=0,E={add:0,update:1,remove:2},M=e("[ -/]"),N=t(),O=t(),y=function(){for(var a=Object.getOwnPropertyNames({}.__proto__),b=t(),d=0;d<a.length;d++)b[a[d]]=1;return b}();f.new=function(a){return new this(a)};f.create=function(a){return f.new(a)};f.registerMatcher=function(a){for(var b in a)a.hasOwnProperty(b)&&F.push(e(b),a[b]);return this};f.registerEncoder=function(a,
b){y[a]||(C[a]=b);return this};f.registerLanguage=function(a,b){y[a]||(N[a]=b.filter,O[a]=b.stemmer);return this};f.encode=function(a,b){return y[a]?b:C[a].call(C,b)};f.prototype.init=function(a){this.B=[];a||(a=z);var b=a.profile,d=b&&!y[b]?I[b]:t();if(b=a.worker)if(Worker){var c=this;b=parseInt(b,10)||4;c.m=-1;c.o=0;c.g=[];c.A=null;c.h=Array(b);for(var g=0;g<b;g++)c.h[g]=W(c.id,g,a,function(a,b,d,g){if(c.o!==c.b)return c.g=c.g.concat(d),c.o++,g&&c.g.length>=g&&(c.o=c.b),c.A&&c.o===c.b&&(c.cache&&
c.i.set(b,c.g),c.A(c.g),c.g=[]),c})}else a.worker=!1,this.h=null;this.mode=a.mode||d.mode||this.mode||z.mode;this.async=a.async||this.async||z.async;this.b=a.worker||this.b||z.b;this.threshold=a.threshold||d.threshold||this.threshold||z.threshold;this.depth=a.depth||d.depth||this.depth||z.depth;this.u=a.suggest||this.u||z.u;this.s=(b=a.encode||d.encode)&&!y[b]&&C[b]||("function"===typeof b?b:this.s||!1);this.debug=a.debug||this.debug;(b=a.matcher)&&this.addMatcher(b);if(b=a.filter)this.filter=R(N[b]||
b,this.s);if(b=a.stemmer)this.stemmer=S(O[b]||b,this.s);this.j=t(10);this.l=t();this.a=t();this.f=t();this.c=[];this.C=null;this.v=!0;this.i=(this.cache=b=a.cache||this.cache||z.cache)?new X(b):!1;return this};f.prototype.encode=function(a){a&&F.length&&(a=x(a,F));a&&this.B.length&&(a=x(a,this.B));a&&this.s&&(a=this.s.call(C,a));a&&this.stemmer&&(a=x(a,this.stemmer));return a};f.prototype.addMatcher=function(a){var b=this.B,d;for(d in a)a.hasOwnProperty(d)&&b.push(e(d),a[d]);return this};f.prototype.add=
function(a,b,d){if("string"===typeof b&&b&&(a&&!y[a]||0===a))if(this.a[a]&&!d)this.update(a,b);else{if(this.b)return++this.m>=this.h.length&&(this.m=0),this.h[this.m].postMessage(this.m,{add:!0,id:a,content:b}),this.a[a]=""+this.m,this;if(this.async)return this.f[a]||(this.c[this.c.length]=a),this.f[a]=[E.add,a,b],H(this),this;b=this.encode(b);if(!b.length)return this;d=this.mode;b="function"===typeof d?d(b):"ngram"===d?J(b):b.split(M);var c=t();c._ctx=t();for(var g=this.threshold,e=this.depth,h=
this.j,l=b.length,f=0;f<l;f++){var m=b[f];if(m){var n=m.length,u=(l-f)/l;switch(d){case "reverse":case "both":for(var p="",k=n-1;1<=k;k--)p=m[k]+p,A(h,c,p,a,(n-k)/n,u,g);case "forward":p="";for(k=0;k<n;k++)p+=m[k],A(h,c,p,a,1,u,g);break;case "full":for(k=0;k<n;k++)for(var r=(n-k)/n,q=n;q>k;q--)p=m.substring(k,q),A(h,c,p,a,r,u,g);break;default:if(k=A(h,c,m,a,1,u,g),e&&1<l&&k>=g)for(n=c._ctx[m]||(c._ctx[m]=t()),m=this.l[m]||(this.l[m]=t(10)),k=f-e,q=f+e+1,0>k&&(k=0),q>l&&(q=l);k<q;k++)k!==f&&A(m,n,
b[k],a,0,10-(k<f?f-k:k-f),g)}}}this.a[a]="1";this.v=!1}return this};f.prototype.update=function(a,b){this.a[a]&&b&&"string"===typeof b&&(this.remove(a),this.add(a,b,!0));return this};f.prototype.remove=function(a){if(this.a[a]&&!y[a]){if(this.b){var b=parseInt(this.a[a],10);this.h[b].postMessage(b,{remove:!0,id:a});delete this.a[a];return this}if(this.async)return this.f[a]||(this.c[this.c.length]=a),this.f[a]=[E.remove,a],H(this),this;for(b=0;10>b;b++)r(this.j[b],a);this.depth&&r(this.l,a);delete this.a[a];
this.v=!1}return this};f.prototype.search=function(a,b,d){var c=[];if("object"===typeof a){d=a.callback||b;b=a.limit;var g=a.threshold;a=a.query}g||(g=this.threshold||0);"function"===typeof b?(d=b,b=1E3):b||0===b||(b=1E3);if(this.b){this.A=d;this.o=0;this.g=[];for(c=0;c<this.b;c++)this.h[c].postMessage(c,{search:!0,limit:b,threshold:g,content:a});return null}if(d){var e=this;K(function(){d(e.search(a,b));e=null},1,"search-"+this.id);return null}if(!a||"string"!==typeof a)return c;var h=a;if(this.cache)if(this.v){var f=
this.i.get(a);if(f)return f}else this.i.reset(),this.v=!0;h=this.encode(h);if(!h.length)return c;f=this.mode;h="function"===typeof f?f(h):"ngram"===f?J(h):h.split(M);f=h.length;var r=!0,m=[],n=t();if(1<f)if(this.depth){var u=!0,p=h[0];n[p]="1"}else h.sort(T);var k;if(!u||(k=this.l)[p])for(var v=u?1:0;v<f;v++){var q=h[v];if(q&&!n[q]){for(var w,z=!1,x=[],A=0,y=9;y>=g;y--)w=(u?k[p]:this.j)[y],w[q]&&(x[A++]=w[q],z=!0);if(z)m[m.length]=1<A?m.concat.apply([],x):x[0];else if(!this.u){r=!1;break}n[q]="1"}p=
q}else r=!1;r&&(c=V(m,b,this.u));this.cache&&this.i.set(a,c);return c};f.prototype.info=function(){if(this.b)for(var a=0;a<this.b;a++)this.h[a].postMessage(a,{info:!0,id:this.id});else{for(var b,d,c=0,e=0,f=0,h=0;10>h;h++)for(b=Object.keys(this.j[h]),a=0;a<b.length;a++)d=this.j[h][b[a]].length,c+=1*d+2*b[a].length+4,e+=d,f+=2*b[a].length;b=Object.keys(this.a);d=b.length;for(a=0;a<d;a++)c+=2*b[a].length+2;return{id:this.id,memory:c,items:d,sequences:e,chars:f,cache:this.c.length,matcher:F.length,worker:this.b}}};
f.prototype.reset=function(){this.destroy();return this.init()};f.prototype.destroy=function(){this.cache&&(this.i.reset(),this.i=null);this.filter=this.stemmer=this.j=this.l=this.a=this.f=this.c=null;return this};var C=Object.create({icase:function(a){return a.toLowerCase()},simple:function(){var a=[e("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]"),"a",e("[\u00e8\u00e9\u00ea\u00eb]"),"e",e("[\u00ec\u00ed\u00ee\u00ef]"),"i",e("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]"),"o",e("[\u00f9\u00fa\u00fb\u00fc\u0171]"),
"u",e("[\u00fd\u0177\u00ff]"),"y",e("\u00f1"),"n",e("\u00e7"),"c",e("\u00df"),"s",e(" & ")," and ",e("[-/]")," ",e("[^a-z0-9 ]"),"",e("\\s\\s+")," "];return function(b){b=x(b.toLowerCase(),a);return" "!==b?b:""}}(),advanced:function(){var a=[e("ae"),"a",e("ai"),"ei",e("ay"),"ei",e("ey"),"ei",e("oe"),"o",e("ue"),"u",e("ie"),"i",e("sz"),"s",e("zs"),"s",e("sh"),"s",e("ck"),"k",e("cc"),"k",e("dt"),"t",e("ph"),"f",e("pf"),"f",e("ou"),"o",e("uo"),"u"];return function(b,d){if(!b)return b;b=this.simple(b);
2<b.length&&(b=x(b,a));d||1<b.length&&(b=G(b));return b}}(),extra:function(){var a=[e("p"),"b",e("z"),"s",e("[cgq]"),"k",e("n"),"m",e("d"),"t",e("[vw]"),"f",e("[aeiouy]"),""];return function(b){if(!b)return b;b=this.advanced(b,!0);if(1<b.length){b=b.split(" ");for(var d=0;d<b.length;d++){var c=b[d];1<c.length&&(b[d]=c[0]+x(c.substring(1),a))}b=b.join(" ");b=G(b)}return b}}(),balance:function(){var a=[e("[-/]")," ",e("[^a-z0-9 ]"),"",e("\\s\\s+")," "];return function(b){return G(x(b.toLowerCase(),
a))}}()}),K=function(){var a=t();return function(b,d,c){var e=a[c];e&&clearTimeout(e);return a[c]=setTimeout(b,d)}}(),X=function(){function a(a){this.reset();this.w=!0!==a&&a}a.prototype.reset=function(){this.cache=t();this.count=t();this.index=t();this.a=[]};a.prototype.set=function(a,d){if(this.w&&"undefined"===typeof this.cache[a]){var b=this.a.length;if(b===this.w){b--;var e=this.a[b];delete this.cache[e];delete this.count[e];delete this.index[e]}this.index[a]=b;this.a[b]=a;this.count[a]=-1;this.cache[a]=
d;this.get(a)}else this.cache[a]=d};a.prototype.get=function(a){var b=this.cache[a];if(this.w&&b){var c=++this.count[a],e=this.index,f=e[a];if(0<f){for(var h=this.a,l=f;this.count[h[--f]]<=c&&-1!==f;);f++;if(f!==l){for(c=l;c>f;c--)l=h[c-1],h[c]=l,e[l]=c;h[f]=a;e[a]=f}}}return b};return a}();return f}(function(){var v=Object.create(null),D=!("undefined"===typeof Blob||"undefined"===typeof URL||!URL.createObjectURL);return function(f,w,e,x,A){var r=f;f=D?URL.createObjectURL(new Blob(["var SUPPORT_WORKER = true;var SUPPORT_BUILTINS = true;var SUPPORT_DEBUG = true;var SUPPORT_CACHE = true;var SUPPORT_ASYNC = true;("+
e.toString()+")()"],{type:"text/javascript"})):"../"+r+".js";r+="-"+w;v[r]||(v[r]=[]);v[r][A]=new Worker(f);v[r][A].onmessage=x;console.log("Register Worker: "+r+"@"+A);return{postMessage:function(e,f){v[r][e].postMessage(f)}}}}()),this);
