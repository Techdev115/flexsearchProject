/*
 FlexSearch v0.6.24
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/flexsearch
*/
'use strict';(function(x,L,N){let H;(H=N.define)&&H.amd?H([],function(){return L}):(H=N.modules)?H[x.toLowerCase()]=L:"object"===typeof exports?module.exports=L:N[x]=L})("FlexSearch",function(){function x(a,b){const c=b?b.id:a&&a.id;this.id=c||0===c?c:ja++;this.init(a,b);ca(this,"index",function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].f):Object.keys(this.f)});ca(this,"length",function(){return this.index.length})}function L(a){const b=D();for(const c in a)if(a.hasOwnProperty(c)){const d=
a[c];F(d)?b[c]=d.slice(0):J(d)?b[c]=L(d):b[c]=d}return b}function N(a,b){const c=a.length,d=O(b),e=[];for(let k=0,f=0;k<c;k++){const h=a[k];if(d&&b(h)||!d&&!b[h])e[f++]=h}return e}function H(a,b,c,d,e,k,f,h,g,m){c=da(c,f?0:e,!1,!1,b,g,m);let n;h&&(h=c.page,n=c.next,c=c.result);if(f)a=this.where(f,null,e,c);else{a=c;b=this.g;c=a.length;e=Array(c);for(k=0;k<c;k++)e[k]=b[a[k]];a=e}c=a;d&&(O(d)||(I=d.split(":"),1<I.length?d=ka:(I=I[0],d=la)),c.sort(d));return c=P(h,n,c)}function ca(a,b,c){Object.defineProperty(a,
b,{get:c})}function r(a){return new RegExp(a,"g")}function M(a,b){for(let c=0;c<b.length;c+=2)a=a.replace(b[c],b[c+1]);return a}function S(a,b,c,d,e,k,f,h){if(b[c])return b[c];e=e?(h-(f||h/1.5))*k+(f||h/1.5)*e:k;b[c]=e;e>=f&&(a=a[h-(e+.5>>0)],a=a[c]||(a[c]=[]),a[a.length]=d);return e}function W(a,b){if(a){const c=Object.keys(a);for(let d=0,e=c.length;d<e;d++){const k=c[d],f=a[k];if(f)for(let h=0,g=f.length;h<g;h++)if(f[h]===b){1===g?delete a[k]:f.splice(h,1);break}else J(f[h])&&W(f[h],b)}}}function X(a){let b=
"",c="";var d="";for(let e=0;e<a.length;e++){const k=a[e];if(k!==c)if(e&&"h"===k){if(d="a"===d||"e"===d||"i"===d||"o"===d||"u"===d||"y"===d,("a"===c||"e"===c||"i"===c||"o"===c||"u"===c||"y"===c)&&d||" "===c)b+=k}else b+=k;d=e===a.length-1?"":a[e+1];c=k}return b}function ma(a,b){a=a.length-b.length;return 0>a?1:a?-1:0}function la(a,b){a=a[I];b=b[I];return a<b?-1:a>b?1:0}function ka(a,b){const c=I.length;for(let d=0;d<c;d++)a=a[I[d]],b=b[I[d]];return a<b?-1:a>b?1:0}function P(a,b,c){return a?{page:a,
next:b?""+b:null,result:c}:c}function da(a,b,c,d,e,k,f){let h,g=[];if(!0===c){c="0";var m=""}else m=c&&c.split(":");const n=a.length;if(1<n){const w=D(),t=[];let u,z;var p=0,l;let E;var v=!0;let B,C=0,Y,Z,T,aa;m&&(2===m.length?(T=m,m=!1):m=aa=parseInt(m[0],10));if(f){for(u=D();p<n;p++)if("not"===e[p])for(z=a[p],E=z.length,l=0;l<E;l++)u["@"+z[l]]=1;else Z=p+1;if(Q(Z))return P(c,h,g);p=0}else Y=K(e)&&e;let U;for(;p<n;p++){const na=p===(Z||n)-1;if(!Y||!p)if((l=Y||e&&e[p])&&"and"!==l)if("or"===l)U=!1;
else continue;else U=k=!0;z=a[p];if(E=z.length){if(v)if(B){var q=B.length;for(l=0;l<q;l++){v=B[l];var y="@"+v;f&&u[y]||(w[y]=1,k||(g[C++]=v))}B=null;v=!1}else{B=z;continue}y=!1;for(l=0;l<E;l++){q=z[l];var A="@"+q;const V=k?w[A]||0:p;if(!(!V&&!d||f&&u[A]||!k&&w[A]))if(V===p){if(na){if(!aa||--aa<C)if(g[C++]=q,b&&C===b)return P(c,C+(m||0),g)}else w[A]=p+1;y=!0}else d&&(A=t[V]||(t[V]=[]),A[A.length]=q)}if(U&&!y&&!d)break}else if(U&&!d)return P(c,h,z)}if(B)if(p=B.length,f)for(l=m?parseInt(m,10):0;l<p;l++)a=
B[l],u["@"+a]||(g[C++]=a);else g=B;if(d)for(C=g.length,T?(p=parseInt(T[0],10)+1,l=parseInt(T[1],10)+1):(p=t.length,l=0);p--;)if(q=t[p]){for(E=q.length;l<E;l++)if(d=q[l],!f||!u["@"+d])if(g[C++]=d,b&&C===b)return P(c,p+":"+l,g);l=0}}else!n||e&&"not"===e[0]||(g=a[0],m&&(m=parseInt(m[0],10)));b&&(f=g.length,m&&m>f&&(m=0),m=m||0,h=m+b,h<f?g=g.slice(m,h):(h=0,m&&(g=g.slice(m))));return P(c,h,g)}function K(a){return"string"===typeof a}function F(a){return a.constructor===Array}function O(a){return"function"===
typeof a}function J(a){return"object"===typeof a}function Q(a){return"undefined"===typeof a}function ea(a){const b=Array(a);for(let c=0;c<a;c++)b[c]=D();return b}function D(){return Object.create(null)}const G={encode:"icase",c:"forward",split:/\W+/,cache:!1,async:!1,u:!1,m:!1,a:!1,b:9,threshold:0,depth:0},fa={memory:{encode:"extra",c:"strict",threshold:0,b:1},speed:{encode:"icase",c:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",c:"full",threshold:1,b:3},score:{encode:"extra",c:"strict",
threshold:1,b:9,depth:4},balance:{encode:"balance",c:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",c:"strict",threshold:8,b:9,depth:1}},ba=[];let ja=0;const ha={},ia={};x.create=function(a,b){return new x(a,b)};x.registerMatcher=function(a){for(const b in a)a.hasOwnProperty(b)&&ba.push(r(b),a[b]);return this};x.registerEncoder=function(a,b){R[a]=b.bind(R);return this};x.registerLanguage=function(a,b){ha[a]=b.filter;ia[a]=b.stemmer;return this};x.encode=function(a,b){return R[a](b)};x.prototype.init=
function(a,b){this.o=[];if(b){var c=b.preset;a=b}else a||(a=G),c=a.preset;b={};K(a)?(b=fa[a],a={}):c&&(b=fa[c]);this.c=a.tokenize||b.c||this.c||G.c;this.split=a.split||this.split||G.split;this.m=a.rtl||this.m||G.m;this.async="undefined"===typeof Promise||Q(c=a.async)?this.async||G.async:c;this.threshold=Q(c=a.threshold)?b.threshold||this.threshold||G.threshold:c;this.b=Q(c=a.resolution)?c=b.b||this.b||G.b:c;c<=this.threshold&&(this.b=this.threshold+1);this.depth="strict"!==this.c||Q(c=a.depth)?b.depth||
this.depth||G.depth:c;this.i=(c=Q(c=a.encode)?b.encode||G.encode:c)&&R[c]&&R[c].bind(R)||(O(c)?c:this.i||!1);(c=a.matcher)&&this.addMatcher(c);if(c=(b=a.lang)||a.filter){K(c)&&(c=ha[c]);if(F(c)){var d=this.i,e=D();for(var k=0;k<c.length;k++){const h=d?d(c[k]):c[k];e[h]=1}c=e}this.filter=c}if(c=b||a.stemmer){var f;b=K(c)?ia[c]:c;d=this.i;e=[];for(f in b)b.hasOwnProperty(f)&&(k=d?d(f):f,e.push(r(k+"($|\\W)"),d?d(b[f]):b[f]));this.stemmer=f=e}this.a=d=(c=a.doc)?L(c):this.a||G.a;this.l=ea(this.b-(this.threshold||
0));this.h=D();this.f=D();if(d&&(this.g=D(),a.doc=null,f=d.index={},c=d.keys=[],b=d.field,F(d.id)||(d.id=d.id.split(":")),b)){let h;F(b)||(J(b)?(h=b,d.field=b=Object.keys(b)):d.field=b=[b]);for(d=0;d<b.length;d++)e=b[d],F(e)||(h&&(a=h[e]),c[d]=e,b[d]=e.split(":")),f[e]=new x(a),f[e].g=this.g}return this};x.prototype.encode=function(a){a&&ba.length&&(a=M(a,ba));a&&this.o.length&&(a=M(a,this.o));a&&this.i&&(a=this.i(a));a&&this.stemmer&&(a=M(a,this.stemmer));return a};x.prototype.addMatcher=function(a){const b=
this.o;for(const c in a)a.hasOwnProperty(c)&&b.push(r(c),a[c]);return this};x.prototype.add=function(a,b,c,d,e){if(this.a&&J(a))return this.j("add",a,b);if(b&&K(b)&&(a||0===a)){var k="@"+a;if(this.f[k]&&!d)return this.update(a,b);if(!e){if(this.async){let t=this;k=new Promise(function(u){setTimeout(function(){t.add(a,b,null,d,!0);t=null;u()})});if(c)k.then(c);else return k;return this}if(c)return this.add(a,b,null,d,!0),c(),this}b=this.encode(b);if(!b.length)return this;c=this.c;e=O(c)?c(b):b.split(this.split);
this.filter&&(e=N(e,this.filter));const p=D();p._ctx=D();const l=e.length,v=this.threshold,q=this.depth,y=this.b,A=this.l,w=this.m;for(let t=0;t<l;t++){var f=e[t];if(f){var h=f.length,g=(w?t+1:l-t)/l,m="";switch(c){case "reverse":case "both":for(var n=h;--n;)m=f[n]+m,S(A,p,m,a,w?1:(h-n)/h,g,v,y-1);m="";case "forward":for(n=0;n<h;n++)m+=f[n],S(A,p,m,a,w?(n+1)/h:1,g,v,y-1);break;case "full":for(n=0;n<h;n++){const u=(w?n+1:h-n)/h;for(let z=h;z>n;z--)m=f.substring(n,z),S(A,p,m,a,u,g,v,y-1)}break;default:if(h=
S(A,p,f,a,1,g,v,y-1),q&&1<l&&h>=v)for(h=p._ctx[f]||(p._ctx[f]=D()),f=this.h[f]||(this.h[f]=ea(y-(v||0))),g=t-q,m=t+q+1,0>g&&(g=0),m>l&&(m=l);g<m;g++)g!==t&&S(f,h,e[g],a,0,y-(g<t?t-g:g-t),v,y-1)}}}this.f[k]=1}return this};x.prototype.j=function(a,b,c){if(F(b))for(let g=0,m=b.length;g<m;g++){if(g===m-1)return this.j(a,b[g],c);this.j(a,b[g])}else{const g=this.a.index,m=this.a.keys;var d=this.a.tag,e=this.a.id;let n;let p;for(var k=0;k<e.length;k++)n=(n||b)[e[k]];if(d){for(e=0;e<d.length;e++){var f=d[e];
var h=f.split(":");for(k=0;k<h.length;k++)p=(p||b)[h[k]];p="@"+p}h=this.s[f];h=h[p]||(h[p]=[])}if("remove"===a){delete this.g[n];for(let l=0,v=m.length;l<v;l++){if(l===v-1)return g[m[l]].remove(n,c),this;g[m[l]].remove(n)}}e=this.a.field;h&&(h[h.length]=b);this.g[n]=b;for(let l=0,v=e.length;l<v;l++){d=e[l];let q;for(f=0;f<d.length;f++)q=(q||b)[d[f]];d=g[m[l]];f="add"===a?d.add:d.update;l===v-1?f.call(d,n,q,c):f.call(d,n,q)}}return this};x.prototype.update=function(a,b,c){if(this.a&&J(a))return this.j("update",
a,b);this.f["@"+a]&&K(b)&&(this.remove(a),this.add(a,b,c,!0));return this};x.prototype.remove=function(a,b,c){if(this.a&&J(a))return this.j("remove",a,b);var d="@"+a;if(this.f[d]){if(!c){if(this.async&&"function"!==typeof importScripts){let e=this;d=new Promise(function(k){setTimeout(function(){e.remove(a,null,!0);e=null;k()})});if(b)d.then(b);else return d;return this}if(b)return this.remove(a,null,!0),b(),this}for(b=0;b<this.b-(this.threshold||0);b++)W(this.l[b],a);this.depth&&W(this.h,a);delete this.f[d]}return this};
let I;x.prototype.search=function(a,b,c,d){if(J(b)){if(F(b))for(var e=0;e<b.length;e++)b[e].query=a;else b.query=a;a=b;b=1E3}else b&&O(b)?(c=b,b=1E3):b||0===b||(b=1E3);let k=[],f=a;let h,g,m;if(J(a)&&!F(a)){c||(c=a.callback)&&(f.callback=null);g=a.sort;h=!1;b=a.limit;var n=a.threshold;m=!1;a=a.query}if(this.a){n=this.a.index;var p=f.bool||"or",l=f.field;let w=p;let t,u;if(l)F(l)||(l=[l]);else if(F(f)){var v=f;l=[];w=[];for(var q=0;q<f.length;q++)d=f[q],e=d.bool||p,l[q]=d.field,w[q]=e,"not"===e?t=
!0:"and"===e&&(u=!0)}else l=this.a.keys;p=l.length;for(q=0;q<p;q++)v&&(f=v[q]),h&&!K(f)&&(f.page=null,f.limit=0),k[q]=n[l[q]].search(f,0);if(c)return c(H.call(this,a,w,k,g,b,m,!1,h,u,t));if(this.async){const z=this;return new Promise(function(E){Promise.all(k).then(function(B){E(H.call(z,a,w,B,g,b,m,!1,h,u,t))})})}return H.call(this,a,w,k,g,b,m,!1,h,u,t)}n||(n=this.threshold||0);if(!d){if(this.async&&"function"!==typeof importScripts){let w=this;n=new Promise(function(t){setTimeout(function(){t(w.search(f,
b,null,!0));w=null})});if(c)n.then(c);else return n;return this}if(c)return c(this.search(f,b,null,!0)),this}if(!a||!K(a))return k;f=a;f=this.encode(f);if(!f.length)return k;c=this.c;c=O(c)?c(f):f.split(this.split);this.filter&&(c=N(c,this.filter));v=c.length;d=!0;e=[];const y=D();let A=0;1<v&&(this.depth&&"strict"===this.c?l=!0:c.sort(ma));if(!l||(p=this.h)){const w=this.b;for(;A<v;A++){let t=c[A];if(t){if(l){if(!q)if(p[t])q=t,y[t]=1;else if(!m)return k;if(m&&A===v-1&&!e.length)l=!1,t=q||t,y[t]=
0;else if(!q)continue}if(!y[t]){const u=[];let z=!1,E=0;if(q=l?p[q]:this.l){let B;for(let C=0;C<w-n;C++)if(B=q[C]&&q[C][t])u[E++]=B,z=!0}if(z)q=t,e[e.length]=1<E?u.concat.apply([],u):u[0];else{d=!1;break}y[t]=1}}}}else d=!1;d&&(k=da(e,b,h,!1));return k};x.prototype.clear=function(){return this.destroy().init()};x.prototype.destroy=function(){this.l=this.h=this.f=null;if(this.a){const a=this.a.keys;for(let b=0;b<a.length;b++)this.a.index[a[b]].destroy();this.a=this.g=null}return this};const oa=function(){const a=
r("\\s+"),b=r("[^a-z0-9 ]"),c=[r("[-/]")," ",b,"",a," "];return function(d){return X(M(d.toLowerCase(),c))}}(),R={icase:function(a){return a.toLowerCase()},simple:function(){const a=r("\\s+"),b=r("[^a-z0-9 ]"),c=r("[-/]"),d=r("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]"),e=r("[\u00e8\u00e9\u00ea\u00eb]"),k=r("[\u00ec\u00ed\u00ee\u00ef]"),f=r("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]"),h=r("[\u00f9\u00fa\u00fb\u00fc\u0171]"),g=r("[\u00fd\u0177\u00ff]"),m=r("\u00f1"),n=r("[\u00e7c]"),p=r("\u00df"),l=r(" & "),
v=[d,"a",e,"e",k,"i",f,"o",h,"u",g,"y",m,"n",n,"k",p,"s",l," and ",c," ",b,"",a," "];return function(q){q=M(q.toLowerCase(),v);return" "===q?"":q}}(),advanced:function(){const a=r("ae"),b=r("ai"),c=r("ay"),d=r("ey"),e=r("oe"),k=r("ue"),f=r("ie"),h=r("sz"),g=r("zs"),m=r("ck"),n=r("cc"),p=r("sh"),l=r("th"),v=r("dt"),q=r("ph"),y=r("pf"),A=r("ou"),w=r("uo"),t=[a,"a",b,"ei",c,"ei",d,"ei",e,"o",k,"u",f,"i",h,"s",g,"s",p,"s",m,"k",n,"k",l,"t",v,"t",q,"f",y,"f",A,"o",w,"u"];return function(u,z){if(!u)return u;
u=this.simple(u);2<u.length&&(u=M(u,t));z||1<u.length&&(u=X(u));return u}}(),extra:function(){const a=r("p"),b=r("z"),c=r("[cgq]"),d=r("n"),e=r("d"),k=r("[vw]"),f=r("[aeiouy]"),h=[a,"b",b,"s",c,"k",d,"m",e,"t",k,"f",f,""];return function(g){if(!g)return g;g=this.advanced(g,!0);if(1<g.length){g=g.split(" ");for(let m=0;m<g.length;m++){const n=g[m];1<n.length&&(g[m]=n[0]+M(n.substring(1),h))}g=g.join(" ");g=X(g)}return g}}(),balance:oa};return x}(!1),this);
