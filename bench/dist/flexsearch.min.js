/**!
 * FlexSearch.js v0.7.0
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/flexsearch
 */
(function(){'use strict';window.requestAnimationFrame||(window.requestAnimationFrame=window.setTimeout);window.cancelAnimationFrame||(window.cancelAnimationFrame=window.clearTimeout);window.Promise||(window.Promise=function(){function a(b){this.f=null;var c=this;b(function(d){c.f&&(c.f(d),c.f=null)})}a.prototype.then=function(b){this.f=b};return a}());var ba=/\W+/,ca={encode:"icase",c:"forward",split:ba,cache:!1,async:!1,B:!1,w:!1,a:!1,b:9,threshold:0,depth:0},da={memory:{encode:"extra",c:"strict",threshold:0,b:1},speed:{encode:"icase",c:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",c:"full",threshold:1,b:3},score:{encode:"extra",c:"strict",threshold:1,b:9,depth:4},balance:{encode:"balance",c:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",c:"strict",threshold:8,b:9,depth:1}},q=[],ea=0,fa={},ha={};
function z(a,b){var c=b?b.id:a&&a.id;this.id=c||0===c?c:ea++;ia(this,a,b);ja(this,"index",function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].g):Object.keys(this.g)});ja(this,"length",function(){return this.index.length})}z.create=function(a,b){return new z(a,b)};z.registerMatcher=function(a){for(var b in a)a.hasOwnProperty(b)&&q.push(A(b),a[b]);return z};z.registerEncoder=function(a,b){C[a]=b.bind(C);return z};z.registerLanguage=function(a,b){fa[a]=b.filter;ha[a]=b.stemmer;return z};
z.encode=function(a,b){return C[a](b)};
function ia(a,b,c){a.s=[];if(c){var d=c.preset;b=c}else b||(b=ca),d=b.preset;c={};F(b)?(c=da[b],b={}):d&&(c=da[d]);a.c=b.tokenize||c.c||a.c||"forward";a.split=G(d=b.split)?a.split||ba:F(d)?A(d):d;a.w=b.rtl||a.w||!1;a.async="undefined"===typeof Promise||G(d=b.async)?a.async||!1:d;a.B=G(d=b.worker)?a.B||!1:d;a.threshold=G(d=b.threshold)?c.threshold||a.threshold||0:d;a.b=G(d=b.resolution)?d=c.b||a.b||9:d;d<=a.threshold&&(a.b=a.threshold+1);a.depth="strict"!==a.c||G(d=b.depth)?c.depth||a.depth||0:d;d=
G(d=b.encode)?c.encode||"icase":d;a.j=d&&C[d]&&C[d].bind(C)||(H(d)?d:a.j||!1);if(d=b.matcher){c=a.s;for(var e in d)d.hasOwnProperty(e)&&c.push(A(e),d[e])}if(d=(e=b.lang)||b.filter){F(d)&&(d=fa[d]);if(N(d)){c=a.j;for(var f=P(),g=0;g<d.length;g++){var h=c?c(d[g]):d[g];f[h]=1}d=f}a.filter=d}if(d=e||b.stemmer){e=F(d)?ha[d]:d;c=a.j;f=[];for(var k in e)e.hasOwnProperty(k)&&(g=c?c(k):k,f.push(A(g+"($|\\W)"),c?c(e[k]):e[k]));a.A=f}a.a=f=(d=b.doc)?ka(d):a.a||!1;a.m=la(a.b-(a.threshold||0));a.h=P();a.g=P();
if(f){a.i=P();b.doc=null;k=f.index={};e=f.keys=[];c=f.field;g=f.tag;h=f.store;N(f.id)||(f.id=f.id.split(":"));if(h){var n=P();if(F(h))n[h]=1;else if(N(h))for(var r=0;r<h.length;r++)n[h[r]]=1;else Q(h)&&(n=h);f.store=n}if(g){a.u=P();h=P();if(c)if(F(c))h[c]=b;else if(N(c))for(n=0;n<c.length;n++)h[c[n]]=b;else Q(c)&&(h=c);N(g)||(f.tag=g=[g]);for(c=0;c<g.length;c++)a.u[g[c]]=P();a.C=g;c=h}if(c){if(!N(c))if(Q(c)){var p=c;f.field=c=Object.keys(c)}else f.field=c=[c];for(f=0;f<c.length;f++)g=c[f],N(g)||(p&&
(b=p[g]),e[f]=g,c[f]=g.split(":")),k[g]=new z(b)}b.doc=d}a.l=!0;a.cache=d=G(d=b.cache)?a.cache||!1:d;a.f=d?new ma(d):!1;return a}z.prototype.encode=function(a){a&&(q.length&&(a=S(a,q)),this.s.length&&(a=S(a,this.s)),this.j&&(a=this.j(a)),this.A&&(a=S(a,this.A)));return a};function ka(a){var b=P(),c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];b[c]=N(d)?d.slice(0):Q(d)?ka(d):d}return b}
function na(a,b){for(var c=a.length,d=H(b),e=[],f=0,g=0;f<c;f++){var h=a[f];if(d&&b(h)||!d&&!b[h])e[g++]=h}return e}
z.prototype.add=function(a,b,c,d,e){if(this.a&&Q(a))return T(this,"add",a,b);if(b&&F(b)&&(a||0===a)){var f="@"+a;if(this.g[f]&&!d)return this.update(a,b);if(!e){if(this.async&&"function"!==typeof importScripts){var g=this;f=new Promise(function(M){setTimeout(function(){g.add(a,b,null,d,!0);g=null;M()})});if(c)f.then(c);else return f;return this}if(c)return this.add(a,b,null,d,!0),c(),this}b=this.encode(b);if(!b.length)return this;c=this.c;e=H(c)?c(b):b.split(this.split);this.filter&&(e=na(e,this.filter));
var h=P();h._ctx=P();for(var k=e.length,n=this.threshold,r=this.depth,p=this.b,t=this.m,l=this.w,m=0;m<k;m++){var y=e[m];if(y){var v=y.length,x=(l?m+1:k-m)/k,u="";switch(c){case "reverse":case "both":for(var w=v;--w;)u=y[w]+u,V(t,h,u,a,l?1:(v-w)/v,x,n,p-1);u="";case "forward":for(w=0;w<v;w++)u+=y[w],V(t,h,u,a,l?(w+1)/v:1,x,n,p-1);break;case "full":for(w=0;w<v;w++)for(var B=(l?w+1:v-w)/v,I=v;I>w;I--)u=y.substring(w,I),V(t,h,u,a,B,x,n,p-1);break;default:if(v=V(t,h,y,a,1,x,n,p-1),r&&1<k&&v>=n)for(v=
h._ctx[y]||(h._ctx[y]=P()),y=this.h[y]||(this.h[y]=la(p-(n||0))),x=m-r,u=m+r+1,0>x&&(x=0),u>k&&(u=k);x<u;x++)x!==m&&V(y,v,e[x],a,0,p-(x<m?m-x:x-m),n,p-1)}}}this.g[f]=1;this.l=!1}return this};
function T(a,b,c,d){if(N(c)){var e=c.length;if(e--){for(var f=0;f<e;f++)T(a,b,c[f]);return T(a,b,c[e],d)}}else{var g=a.a.index,h=a.a.keys,k=a.a.tag;f=a.a.store;var n;var r=a.a.id;e=c;for(var p=0;p<r.length;p++)e=e[r[p]];if("remove"===b&&(delete a.i[e],r=h.length,r--)){for(a=0;a<r;a++)g[h[a]].remove(e);return g[h[r]].remove(e,d)}if(k){for(n=0;n<k.length;n++){var t=k[n];var l=c;r=t.split(":");for(p=0;p<r.length;p++)l=l[r[p]];l="@"+l}n=a.u[t];n=n[l]||(n[l]=[])}r=a.a.field;k=0;for(t=r.length;k<t;k++){p=
r[k];l=c;for(var m=0;m<p.length;m++)l=l[p[m]];p=g[h[k]];m="add"===b?p.add:p.update;k===t-1?m.call(p,e,l,d):m.call(p,e,l)}if(f){d=Object.keys(f);b=P();for(g=0;g<d.length;g++)if(h=d[g],f[h])for(h=h.split(":"),k=r=void 0,t=0;t<h.length;t++)l=h[t],r=(r||c)[l],k=(k||b)[l]=r;c=b}n&&(n[n.length]=c);a.i[e]=c}return a}z.prototype.update=function(a,b,c){if(this.a&&Q(a))return T(this,"update",a,b);this.g["@"+a]&&F(b)&&(this.remove(a),this.add(a,b,c,!0));return this};
z.prototype.remove=function(a,b,c){if(this.a&&Q(a))return T(this,"remove",a,b);var d="@"+a;if(this.g[d]){if(!c){if(this.async&&"function"!==typeof importScripts){var e=this;d=new Promise(function(f){setTimeout(function(){e.remove(a,null,!0);e=null;f()})});if(b)d.then(b);else return d;return this}if(b)return this.remove(a,null,!0),b(),this}for(b=0;b<this.b-(this.threshold||0);b++)W(this.m[b],a);this.depth&&W(this.h,a);delete this.g[d];this.l=!1}return this};var X;
function Y(a,b,c,d,e,f,g,h,k,n,r){d=oa(d,h?0:f,k,g,c,n,r);if(k){k=d.page;var p=d.next;d=d.result}if(h)d=pa(a,h,f,d);else{c=d;d=a.i;f=c.length;g=Array(f);for(h=0;h<f;h++)g[h]=d[c[h]];d=g}e&&(H(e)||(X=e.split(":"),1<X.length?e=qa:(X=X[0],e=ra)),d.sort(e));d=Z(k,p,d);a.cache&&a.f.set(b,d);return d}
z.prototype.search=function(a,b,c,d){if(Q(b)){if(N(b))for(var e=0;e<b.length;e++)b[e].query=a;else b.query=a;a=b;b=1E3}else b&&H(b)?(c=b,b=1E3):b||0===b||(b=1E3);var f=[],g=a;if(Q(a)&&!N(a)){c||(c=a.callback)&&(g.callback=null);var h=a.sort;var k=a.page;b=a.limit;var n=a.threshold;var r=a.suggest;a=a.query}if(this.a){n=this.a.index;var p=g.where,t=g.bool||"or",l=g.field,m=t,y,v;if(l)N(l)||(l=[l]);else if(N(g)){var x=g;l=[];m=[];for(var u=0;u<g.length;u++)d=g[u],e=d.bool||t,l[u]=d.field,m[u]=e,"not"===
e?y=!0:"and"===e&&(v=!0)}else l=this.a.keys;t=l.length;for(u=0;u<t;u++)x&&(g=x[u]),k&&!F(g)&&(g.page=null,g.limit=0),f[u]=n[l[u]].search(g,0);if(c)return c(Y(this,a,m,f,h,b,r,p,k,v,y));if(this.async){var w=this;return new Promise(function(aa){Promise.all(f).then(function(ua){aa(Y(w,a,m,ua,h,b,r,p,k,v,y))})})}return Y(this,a,m,f,h,b,r,p,k,v,y)}n||(n=this.threshold||0);if(!d){if(this.async&&"function"!==typeof importScripts){var B=this;n=new Promise(function(aa){setTimeout(function(){aa(B.search(g,
b,null,!0));B=null})});if(c)n.then(c);else return n;return this}if(c)return c(this.search(g,b,null,!0)),this}if(!a||!F(a))return f;g=a;if(this.cache)if(this.l){if(c=this.f.get(a))return c}else this.f.clear(),this.l=!0;g=this.encode(g);if(!g.length)return f;c=this.c;c=H(c)?c(g):g.split(this.split);this.filter&&(c=na(c,this.filter));x=c.length;d=!0;e=[];var I=P(),M=0;1<x&&(this.depth&&"strict"===this.c?t=!0:c.sort(sa));if(!t||(u=this.h))for(var U=this.b;M<x;M++){var D=c[M];if(D){if(t){if(!l)if(u[D])l=
D,I[D]=1;else if(!r)return f;if(r&&M===x-1&&!e.length)t=!1,D=l||D,I[D]=0;else if(!l)continue}if(!I[D]){var E=[],O=!1,J=0,K=t?u[l]:this.m;if(K)for(var R=void 0,L=0;L<U-n;L++)if(R=K[L]&&K[L][D])E[J++]=R,O=!0;if(O)l=D,e[e.length]=1<J?E.concat.apply([],E):E[0];else if(!r){d=!1;break}I[D]=1}}}else d=!1;d&&(f=oa(e,b,k,r));this.cache&&this.f.set(a,f);return f};
function pa(a,b,c,d){var e=null,f=a.i,g=[],h=0;if(Q(b)){c||(c=e);var k=Object.keys(b);var n=k.length;var r=!1;if(1===n&&"id"===k[0])return[f[b.id]];var p=a.C;if(p&&!d)for(var t=0;t<p.length;t++){var l=p[t],m=b[l];if(!G(m)){var y=a.u[l]["@"+m];if(0===--n)return y;k.splice(k.indexOf(l),1);delete b[l];break}}a=Array(n);for(p=0;p<n;p++)a[p]=k[p].split(":")}else{if(H(b)){c=d||Object.keys(f);e=c.length;for(k=0;k<e;k++)n=f[c[k]],b(n)&&(g[h++]=n);return g}if(G(e))return[f[b]];if("id"===b)return[f[e]];k=[b];
n=1;a=[b.split(":")];r=!0}d=y||d||Object.keys(f);p=d.length;for(t=0;t<p;t++){l=y?d[t]:f[d[t]];m=!0;for(var v=0;v<n;v++){r||(e=b[k[v]]);var x=a[v],u=x.length,w=l;if(1<u)for(var B=0;B<u;B++)w=w[x[B]];else w=w[x[0]];if(w!==e){m=!1;break}}if(m&&(g[h++]=l,c&&h===c))break}return g}z.prototype.clear=function(){return ia(ta(this))};function ta(a){a.cache&&(a.f.clear(),a.f=null);a.m=a.h=a.g=null;if(a.a){for(var b=a.a.keys,c=0;c<b.length;c++)ta(a.a.index[b[c]]);a.a=a.i=null}return a}
var C={icase:function(a){return a.toLowerCase()},simple:function(){var a=[A("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]"),"a",A("[\u00e8\u00e9\u00ea\u00eb]"),"e",A("[\u00ec\u00ed\u00ee\u00ef]"),"i",A("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]"),"o",A("[\u00f9\u00fa\u00fb\u00fc\u0171]"),"u",A("[\u00fd\u0177\u00ff]"),"y",A("\u00f1"),"n",A("[\u00e7c]"),"k",A("\u00df"),"s",A(" & ")," and ",A("[-/]")," ",A("[^a-z0-9 ]"),"",A("\\s+")," "];return function(b){b=S(b.toLowerCase(),a);return" "===b?"":b}}(),advanced:function(){var a=
[A("ae"),"a",A("ai"),"ei",A("ay"),"ei",A("ey"),"ei",A("oe"),"o",A("ue"),"u",A("ie"),"i",A("sz"),"s",A("zs"),"s",A("sh"),"s",A("ck"),"k",A("cc"),"k",A("th"),"t",A("dt"),"t",A("ph"),"f",A("pf"),"f",A("ou"),"o",A("uo"),"u"];return function(b,c){if(!b)return b;b=this.simple(b);2<b.length&&(b=S(b,a));c||1<b.length&&(b=va(b));return b}}(),extra:function(){var a=[A("p"),"b",A("z"),"s",A("[cgq]"),"k",A("n"),"m",A("d"),"t",A("[vw]"),"f",A("[aeiouy]"),""];return function(b){if(!b)return b;b=this.advanced(b,
!0);if(1<b.length){b=b.split(" ");for(var c=0;c<b.length;c++){var d=b[c];1<d.length&&(b[c]=d[0]+S(d.substring(1),a))}b=b.join(" ");b=va(b)}return b}}(),balance:function(){var a=[A("[-/]")," ",A("[^a-z0-9 ]"),"",A("\\s+")," "];return function(b){return va(S(b.toLowerCase(),a))}}()},ma=function(){function a(b){this.clear();this.v=!0!==b&&b}a.prototype.clear=function(){this.cache=P();this.count=P();this.index=P();this.o=[]};a.prototype.set=function(b,c){if(this.v&&G(this.cache[b])){var d=this.o.length;
if(d===this.v){d--;var e=this.o[d];delete this.cache[e];delete this.count[e];delete this.index[e]}this.index[b]=d;this.o[d]=b;this.count[b]=-1;this.cache[b]=c;this.get(b)}else this.cache[b]=c};a.prototype.get=function(b){var c=this.cache[b];if(this.v&&c){var d=++this.count[b],e=this.index,f=e[b];if(0<f){for(var g=this.o,h=f;this.count[g[--f]]<=d&&-1!==f;);f++;if(f!==h){for(d=h;d>f;d--)h=g[d-1],g[d]=h,e[h]=d;g[f]=b;e[b]=f}}}return c};return a}();
function ja(a,b,c){Object.defineProperty(a,b,{get:c})}function A(a){return new RegExp(a,"g")}function S(a,b){for(var c=0;c<b.length;c+=2)a=a.replace(b[c],b[c+1]);return a}function V(a,b,c,d,e,f,g,h){if(b[c])return b[c];e=e?(h-(g||h/1.5))*f+(g||h/1.5)*e:f;b[c]=e;e>=g&&(a=a[h-(e+.5>>0)],a=a[c]||(a[c]=[]),a[a.length]=d);return e}
function W(a,b){if(a)for(var c=Object.keys(a),d=0,e=c.length;d<e;d++){var f=c[d],g=a[f];if(g)for(var h=0,k=g.length;h<k;h++)if(g[h]===b){1===k?delete a[f]:g.splice(h,1);break}else Q(g[h])&&W(g[h],b)}}function va(a){for(var b="",c="",d="",e=0;e<a.length;e++){var f=a[e];if(f!==c)if(e&&"h"===f){if(d="a"===d||"e"===d||"i"===d||"o"===d||"u"===d||"y"===d,("a"===c||"e"===c||"i"===c||"o"===c||"u"===c||"y"===c)&&d||" "===c)b+=f}else b+=f;d=e===a.length-1?"":a[e+1];c=f}return b}
function sa(a,b){a=a.length-b.length;return 0>a?1:a?-1:0}function ra(a,b){a=a[X];b=b[X];return a<b?-1:a>b?1:0}function qa(a,b){for(var c=X.length,d=0;d<c;d++)a=a[X[d]],b=b[X[d]];return a<b?-1:a>b?1:0}function Z(a,b,c){return a?{page:a,next:b?""+b:null,result:c}:c}
function oa(a,b,c,d,e,f,g){var h=[];if(!0===c){c="0";var k=""}else k=c&&c.split(":");var n=a.length;if(1<n){var r=P(),p=[],t,l=0,m,y=!0,v=0,x;if(k)if(2===k.length){var u=k;k=!1}else k=x=parseInt(k[0],10);if(g){for(t=P();l<n;l++)if("not"===e[l]){var w=a[l];var B=w.length;for(m=0;m<B;m++)t["@"+w[m]]=1}else var I=l+1;if(G(I))return Z(c,L,h);l=0}else var M=F(e)&&e;for(var U;l<n;l++){var D=l===(I||n)-1;if(!M||!l)if((m=M||e&&e[l])&&"and"!==m)if("or"===m)U=!1;else continue;else U=f=!0;w=a[l];if(B=w.length){if(y)if(J){var E=
J.length;for(m=0;m<E;m++){y=J[m];var O="@"+y;g&&t[O]||(r[O]=1,f||(h[v++]=y))}var J=null;y=!1}else{J=w;continue}O=!1;for(m=0;m<B;m++){E=w[m];var K="@"+E,R=f?r[K]||0:l;if(!(!R&&!d||g&&t[K]||!f&&r[K]))if(R===l){if(D){if(!x||--x<v)if(h[v++]=E,b&&v===b)return Z(c,v+(k||0),h)}else r[K]=l+1;O=!0}else d&&(K=p[R]||(p[R]=[]),K[K.length]=E)}if(U&&!O&&!d)break}else if(U&&!d)return Z(c,L,w)}if(J)if(l=J.length,g)for(m=k?parseInt(k,10):0;m<l;m++)a=J[m],t["@"+a]||(h[v++]=a);else h=J;if(d)for(v=h.length,u?(l=parseInt(u[0],
10)+1,m=parseInt(u[1],10)+1):(l=p.length,m=0);l--;)if(E=p[l]){for(B=E.length;m<B;m++)if(d=E[m],!g||!t["@"+d])if(h[v++]=d,b&&v===b)return Z(c,l+":"+m,h);m=0}}else!n||e&&"not"===e[0]||(h=a[0],k&&(k=parseInt(k[0],10)));if(b){g=h.length;k&&k>g&&(k=0);k=k||0;var L=k+b;L<g?h=h.slice(k,L):(L=0,k&&(h=h.slice(k)))}return Z(c,L,h)}function F(a){return"string"===typeof a}function N(a){return a.constructor===Array}function H(a){return"function"===typeof a}function Q(a){return"object"===typeof a}
function G(a){return"undefined"===typeof a}function la(a){for(var b=Array(a),c=0;c<a;c++)b[c]=P();return b}function P(){return Object.create(null)};(function(){var a=this||window,b;(b=a.define)&&b.amd?b([],function(){return z}):"object"===typeof a.exports?a.module.exports=z:a.FlexSearch=z})();}).call(this);
